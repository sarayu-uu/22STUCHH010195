{"ast":null,"code":"// src/utils/logger.ts\n\nclass Logger {\n  constructor() {\n    this.LOGGING_ENDPOINT = 'http://20.244.56.144/evaluation-service/logs';\n    this.STACK = 'frontend';\n    this.ACCESS_TOKEN = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJNYXBDbGFpbXMiOnsiYXVkIjoiaHR0cDovLzIwLjI0NC41Ni4xNDQvZXZhbHVhdGlvbi1zZXJ2aWNlIiwiZW1haWwiOiJyYW1kYXNzYXJheXUyMkBpZmhlaW5kaWEub3JnIiwiZXhwIjoxNzUzMjUyMDc4LCJpYXQiOjE3NTMyNTExNzgsImlzcyI6IkFmZm9yZCBNZWRpY2FsIFRlY2hub2xvZ2llcyBQcml2YXRlIExpbWl0ZWQiLCJqdGkiOiIyNjBhMzA0My1jYjkwLTQ0NDgtODA5Ny1jMzhmN2FiY2YzNGYiLCJsb2NhbGUiOiJlbi1JTiIsIm5hbWUiOiJzYXJheXUgcmFtZGFzIiwic3ViIjoiN2ZhYmM2ZDMtZmI2YS00Mjc3LTlkMWQtMDQ3YTA1NzdlNmEzIn0sImVtYWlsIjoicmFtZGFzc2FyYXl1MjJAaWZoZWluZGlhLm9yZyIsIm5hbWUiOiJzYXJheXUgcmFtZGFzIiwicm9sbE5vIjoiMjJzdHVjaGgwMTAxOTUiLCJhY2Nlc3NDb2RlIjoiYkN1Q0ZUIiwiY2xpZW50SUQiOiI3ZmFiYzZkMy1mYjZhLTQyNzctOWQxZC0wNDdhMDU3N2U2YTMiLCJjbGllbnRTZWNyZXQiOiJGU0dCc2RaWEpnRmtCcnZBIn0.oEAIMYK6aDP9AP4LZQhheBq5yN0yURFQDN9i1Bx4_3Y';\n  }\n  async sendLog(entry) {\n    try {\n      const logData = {\n        ...entry,\n        stack: this.STACK,\n        timestamp: new Date().toISOString()\n      };\n      const response = await fetch(this.LOGGING_ENDPOINT, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.ACCESS_TOKEN}`\n        },\n        body: JSON.stringify(logData)\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error(`🚫 Logging failed: ${response.status} - ${errorText}`);\n      } else {\n        const resData = await response.json();\n        console.log('✅ Log sent:', resData);\n      }\n    } catch (error) {\n      console.error('❌ Network/logging error:', error);\n    }\n  }\n  debug(packageName, message) {\n    this.sendLog({\n      stack: this.STACK,\n      level: 'debug',\n      package: packageName,\n      message\n    });\n  }\n  info(packageName, message) {\n    this.sendLog({\n      stack: this.STACK,\n      level: 'info',\n      package: packageName,\n      message\n    });\n  }\n  warn(packageName, message) {\n    this.sendLog({\n      stack: this.STACK,\n      level: 'warn',\n      package: packageName,\n      message\n    });\n  }\n  error(packageName, message) {\n    this.sendLog({\n      stack: this.STACK,\n      level: 'error',\n      package: packageName,\n      message\n    });\n  }\n  fatal(packageName, message) {\n    this.sendLog({\n      stack: this.STACK,\n      level: 'fatal',\n      package: packageName,\n      message\n    });\n  }\n}\nexport const logger = new Logger();\nexport const log = {\n  debug: (packageName, message) => logger.debug(packageName, message),\n  info: (packageName, message) => logger.info(packageName, message),\n  warn: (packageName, message) => logger.warn(packageName, message),\n  error: (packageName, message) => logger.error(packageName, message),\n  fatal: (packageName, message) => logger.fatal(packageName, message)\n};","map":{"version":3,"names":["Logger","constructor","LOGGING_ENDPOINT","STACK","ACCESS_TOKEN","sendLog","entry","logData","stack","timestamp","Date","toISOString","response","fetch","method","headers","body","JSON","stringify","ok","errorText","text","console","error","status","resData","json","log","debug","packageName","message","level","package","info","warn","fatal","logger"],"sources":["C:/Users/ameya/Desktop/affordmed/src/utils/logger.ts"],"sourcesContent":["// src/utils/logger.ts\r\n\r\nexport type LogLevel = 'debug' | 'info' | 'warn' | 'error' | 'fatal';\r\nexport type LogPackage = 'component' | 'hook' | 'api' | 'page' | 'style' | 'state';\r\n\r\ninterface LogEntry {\r\n  stack: string;\r\n  level: LogLevel;\r\n  package: LogPackage;\r\n  message: string;\r\n  timestamp?: string;\r\n}\r\n\r\nclass Logger {\r\n  private readonly LOGGING_ENDPOINT = 'http://20.244.56.144/evaluation-service/logs';\r\n  private readonly STACK = 'frontend';\r\n\r\n  private readonly ACCESS_TOKEN =\r\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJNYXBDbGFpbXMiOnsiYXVkIjoiaHR0cDovLzIwLjI0NC41Ni4xNDQvZXZhbHVhdGlvbi1zZXJ2aWNlIiwiZW1haWwiOiJyYW1kYXNzYXJheXUyMkBpZmhlaW5kaWEub3JnIiwiZXhwIjoxNzUzMjUyMDc4LCJpYXQiOjE3NTMyNTExNzgsImlzcyI6IkFmZm9yZCBNZWRpY2FsIFRlY2hub2xvZ2llcyBQcml2YXRlIExpbWl0ZWQiLCJqdGkiOiIyNjBhMzA0My1jYjkwLTQ0NDgtODA5Ny1jMzhmN2FiY2YzNGYiLCJsb2NhbGUiOiJlbi1JTiIsIm5hbWUiOiJzYXJheXUgcmFtZGFzIiwic3ViIjoiN2ZhYmM2ZDMtZmI2YS00Mjc3LTlkMWQtMDQ3YTA1NzdlNmEzIn0sImVtYWlsIjoicmFtZGFzc2FyYXl1MjJAaWZoZWluZGlhLm9yZyIsIm5hbWUiOiJzYXJheXUgcmFtZGFzIiwicm9sbE5vIjoiMjJzdHVjaGgwMTAxOTUiLCJhY2Nlc3NDb2RlIjoiYkN1Q0ZUIiwiY2xpZW50SUQiOiI3ZmFiYzZkMy1mYjZhLTQyNzctOWQxZC0wNDdhMDU3N2U2YTMiLCJjbGllbnRTZWNyZXQiOiJGU0dCc2RaWEpnRmtCcnZBIn0.oEAIMYK6aDP9AP4LZQhheBq5yN0yURFQDN9i1Bx4_3Y';\r\n\r\n  private async sendLog(entry: LogEntry): Promise<void> {\r\n    try {\r\n      const logData = {\r\n        ...entry,\r\n        stack: this.STACK,\r\n        timestamp: new Date().toISOString(),\r\n      };\r\n\r\n      const response = await fetch(this.LOGGING_ENDPOINT, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${this.ACCESS_TOKEN}`,\r\n        },\r\n        body: JSON.stringify(logData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error(`🚫 Logging failed: ${response.status} - ${errorText}`);\r\n      } else {\r\n        const resData = await response.json();\r\n        console.log('✅ Log sent:', resData);\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Network/logging error:', error);\r\n    }\r\n  }\r\n\r\n  debug(packageName: LogPackage, message: string): void {\r\n    this.sendLog({ stack: this.STACK, level: 'debug', package: packageName, message });\r\n  }\r\n\r\n  info(packageName: LogPackage, message: string): void {\r\n    this.sendLog({ stack: this.STACK, level: 'info', package: packageName, message });\r\n  }\r\n\r\n  warn(packageName: LogPackage, message: string): void {\r\n    this.sendLog({ stack: this.STACK, level: 'warn', package: packageName, message });\r\n  }\r\n\r\n  error(packageName: LogPackage, message: string): void {\r\n    this.sendLog({ stack: this.STACK, level: 'error', package: packageName, message });\r\n  }\r\n\r\n  fatal(packageName: LogPackage, message: string): void {\r\n    this.sendLog({ stack: this.STACK, level: 'fatal', package: packageName, message });\r\n  }\r\n}\r\n\r\nexport const logger = new Logger();\r\n\r\nexport const log = {\r\n  debug: (packageName: LogPackage, message: string) => logger.debug(packageName, message),\r\n  info: (packageName: LogPackage, message: string) => logger.info(packageName, message),\r\n  warn: (packageName: LogPackage, message: string) => logger.warn(packageName, message),\r\n  error: (packageName: LogPackage, message: string) => logger.error(packageName, message),\r\n  fatal: (packageName: LogPackage, message: string) => logger.fatal(packageName, message),\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}